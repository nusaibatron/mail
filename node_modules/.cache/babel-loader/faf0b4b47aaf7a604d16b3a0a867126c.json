{"ast":null,"code":"import _objectSpread from\"/Users/nusaibarahman/Desktop/mail/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/nusaibarahman/Desktop/mail/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useFetch}from\"./useFetch\";import Mail from\"./Mail\";import logo from'./stable-logo.svg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useFetch=useFetch(),loading=_useFetch.loading,data=_useFetch.data;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),mails=_useState4[0],setMails=_useState4[1];useEffect(function(){if(loading)return;setMails(data[page]);},[loading,page]);var handlePage=function handlePage(index){setPage(index);};var nextPage=function nextPage(){if(page===data.length-1){setPage(0);}else{setPage(page+1);}};var prevPage=function prevPage(){if(page===0){setPage(data.length-1);}else{setPage(page-1);}};var totalMail=0;for(var i=0;i<data.length;i++){totalMail=totalMail+data[i].length;}return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"img\",{src:logo,width:\"200\",height:\"40\"}),/*#__PURE__*/_jsx(\"div\",{className:\"underline\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"section-title\",children:[/*#__PURE__*/_jsx(\"h1\",{children:loading?\"loading...\":\"All Mail\"}),/*#__PURE__*/_jsx(\"desc\",{children:\"Here are all of the pieces of mail you've reveived at your Stable address.\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"mails\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:mails.map(function(mail){return/*#__PURE__*/_jsx(Mail,_objectSpread({},mail),mail.id);})}),/*#__PURE__*/_jsxs(\"div\",{children:[totalMail,\" mail items\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn next-btn\",onClick:function onClick(){return prevPage();},children:!loading?\"Previous\":null}),loading?null:data.map(function(item,index){return/*#__PURE__*/_jsx(\"button\",{className:\"page-btn \".concat(index===page?\"active-btn\":null),onClick:function onClick(){handlePage(index);},children:index+1},index);}),/*#__PURE__*/_jsx(\"button\",{className:\"btn next-btn\",onClick:function onClick(){return nextPage();},children:!loading?\"Next\":null})]})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useFetch","Mail","logo","App","loading","data","page","setPage","mails","setMails","handlePage","index","nextPage","length","prevPage","totalMail","i","map","mail","id","item"],"sources":["/Users/nusaibarahman/Desktop/mail/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useFetch } from \"./useFetch\";\nimport Mail from \"./Mail\";\nimport logo from './stable-logo.svg';\nfunction App() {\n  const { loading, data } = useFetch();\n  const [page, setPage] = useState(0);\n  const [mails, setMails] = useState([]);\n\n  useEffect(() => {\n    if (loading) return;\n    setMails(data[page]);\n  }, [loading, page]);\n\n  const handlePage = (index) => {\n    setPage(index);\n  };\n\n  const nextPage = () => {\n    if (page === data.length - 1) {\n      setPage(0);\n    } else {\n      setPage(page + 1);\n    }\n  };\n  const prevPage = () => {\n    if (page === 0) {\n      setPage(data.length - 1);\n    } else {\n      setPage(page - 1);\n    }\n  };\n\n  let totalMail = 0;\n  for (var i = 0; i < data.length; i++) {\n      totalMail = totalMail + data[i].length\n  }\n\n  return (\n    <main>\n      <img src={logo} width=\"200\" height=\"40\" />\n      <div className=\"underline\"></div>\n      <div className=\"section-title\">\n        <h1>{loading ? \"loading...\" : \"All Mail\"}</h1>\n        <desc>Here are all of the pieces of mail you've reveived at your Stable address.</desc>\n\n      </div>\n      <section className=\"mails\">\n        <div className=\"container\">\n          {mails.map((mail) => {\n            return <Mail key={mail.id} {...mail} />;\n          })}\n        </div>\n        <div>{totalMail} mail items</div>\n        <div className=\"btn-container\">\n          <button className=\"btn next-btn\" onClick={() => prevPage()}>\n            {!loading ? \"Previous\" : null}\n          </button>\n          {loading\n            ? null\n            : data.map((item, index) => {\n                return (\n                  <button\n                    key={index}\n                    className={`page-btn ${\n                      index === page ? \"active-btn\" : null\n                    }`}\n                    onClick={() => {\n                      handlePage(index);\n                    }}\n                  >\n                    {index + 1}\n                  </button>\n                );\n              })}\n          <button className=\"btn next-btn\" onClick={() => nextPage()}>\n            {!loading ? \"Next\" : null}\n          </button>\n        </div>\n      </section>\n    </main>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}